{% extends "base.html" %}
{% block content %}

    <h1>Sign Up For Blogz</h1>
    <p>If you already have an account, you may <a href="/login">Login</a></p>
    <div class="user-form">
        <form action="/signup" method="post">
        <div class="user-inputs">
            <label for="username">Username</label>
            <br>
            <input name="username" type="username" value="{{ username }}" placeholder="Username">
            <br>
            <div class='error'>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            {% if category == 'username-error' %}
                                {{message}}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
        </div>
        <div class="user-inputs">
            <label for="password">Password</label>
            <br>
            <input name="password" type="password" placeholder="Password">
            <br>
            <div class='error'>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            {% if category == 'password-invalid-error' %}
                                {{message}}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
        </div>
        <div class="user-inputs">
            <label for="verify">Verify Password</label>
            <br>
            <input name="verify" type="password" placeholder="Verify Password">
            <br>
            <div class='error'>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            {% if category == 'password-match-error' %}
                                {{message}}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
            <br>
            <input type="submit" value="Sign Up">
            </div>
        </form>
    </div>

{% endblock %}